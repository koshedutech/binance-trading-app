{
  "positions": {
    "APTUSDT": {
      "symbol": "APTUSDT",
      "side": "SHORT",
      "mode": "scalp",
      "current_tp_level": 0,
      "scalp_reentry": {
        "enabled": true,
        "current_cycle": 0,
        "cycles": [],
        "accumulated_profit": 0,
        "tp_level_unlocked": 0,
        "next_tp_blocked": false,
        "original_entry_price": 1.922,
        "current_breakeven": 1.922,
        "remaining_quantity": 189.4,
        "dynamic_sl_active": false,
        "dynamic_sl_price": 0,
        "protected_profit": 0,
        "max_allowable_loss": 0,
        "final_portion_active": false,
        "final_portion_qty": 0,
        "final_trailing_peak": 0,
        "final_trailing_percent": 0,
        "final_trailing_active": false,
        "reentry_percent": 0.5,
        "reentry_price_buffer": 0.0005,
        "total_cycles_completed": 0,
        "total_reentries": 0,
        "successful_reentries": 0,
        "skipped_reentries": 0,
        "total_cycle_pnl": 0,
        "started_at": "2026-01-14T19:09:43.807880893Z",
        "last_update": "2026-01-14T19:12:13.810761329Z",
        "debug_log": [
          "19:09:43: [Story 9.9] Initialized position_optimization for APTUSDT SHORT @ 1.92200000 (mode: scalp, TP1=0.4%, TP2=0.7%, TP3=1.0%)",
          "19:09:50: Monitoring: price=1.92340000, tpUnlocked=0, blocked=false, cycles=0",
          "19:09:53: Monitoring: price=1.92480000, tpUnlocked=0, blocked=false, cycles=0",
          "19:09:58: Monitoring: price=1.92480000, tpUnlocked=0, blocked=false, cycles=0",
          "19:10:03: Monitoring: price=1.92510000, tpUnlocked=0, blocked=false, cycles=0",
          "19:10:14: Monitoring: price=1.92400000, tpUnlocked=0, blocked=false, cycles=0",
          "19:10:16: Monitoring: price=1.92400000, tpUnlocked=0, blocked=false, cycles=0",
          "19:10:18: Monitoring: price=1.92390000, tpUnlocked=0, blocked=false, cycles=0",
          "19:10:23: Monitoring: price=1.92390000, tpUnlocked=0, blocked=false, cycles=0",
          "19:10:28: Monitoring: price=1.92430000, tpUnlocked=0, blocked=false, cycles=0",
          "19:10:33: Monitoring: price=1.92460000, tpUnlocked=0, blocked=false, cycles=0",
          "19:10:38: Monitoring: price=1.92510000, tpUnlocked=0, blocked=false, cycles=0",
          "19:10:43: Monitoring: price=1.92470000, tpUnlocked=0, blocked=false, cycles=0",
          "19:10:48: Monitoring: price=1.92460000, tpUnlocked=0, blocked=false, cycles=0",
          "19:10:53: Monitoring: price=1.92450000, tpUnlocked=0, blocked=false, cycles=0",
          "19:10:58: Monitoring: price=1.92450000, tpUnlocked=0, blocked=false, cycles=0",
          "19:11:05: Monitoring: price=1.92400000, tpUnlocked=0, blocked=false, cycles=0",
          "19:11:08: Monitoring: price=1.92430000, tpUnlocked=0, blocked=false, cycles=0",
          "19:11:13: Monitoring: price=1.92440000, tpUnlocked=0, blocked=false, cycles=0",
          "19:11:18: Monitoring: price=1.92280000, tpUnlocked=0, blocked=false, cycles=0",
          "19:11:23: Monitoring: price=1.92250000, tpUnlocked=0, blocked=false, cycles=0",
          "19:11:28: Monitoring: price=1.92200000, tpUnlocked=0, blocked=false, cycles=0",
          "19:11:33: Monitoring: price=1.92140000, tpUnlocked=0, blocked=false, cycles=0",
          "19:11:38: Monitoring: price=1.92090000, tpUnlocked=0, blocked=false, cycles=0",
          "19:11:43: Monitoring: price=1.92110000, tpUnlocked=0, blocked=false, cycles=0",
          "19:11:48: Monitoring: price=1.92080000, tpUnlocked=0, blocked=false, cycles=0",
          "19:11:53: Monitoring: price=1.92130000, tpUnlocked=0, blocked=false, cycles=0",
          "19:11:58: Monitoring: price=1.92150000, tpUnlocked=0, blocked=false, cycles=0",
          "19:12:03: Monitoring: price=1.92200000, tpUnlocked=0, blocked=false, cycles=0",
          "19:12:08: Monitoring: price=1.92170000, tpUnlocked=0, blocked=false, cycles=0",
          "19:12:13: Monitoring: price=1.92170000, tpUnlocked=0, blocked=false, cycles=0"
        ],
        "needs_manual_intervention": false,
        "manual_intervention_reason": "",
        "manual_intervention_alert_at": ""
      },
      "saved_at": "2026-01-14T19:12:18.267960305Z"
    },
    "LINKUSDT": {
      "symbol": "LINKUSDT",
      "side": "LONG",
      "mode": "scalp",
      "current_tp_level": 3,
      "scalp_reentry": {
        "enabled": true,
        "current_cycle": 3,
        "cycles": [
          {
            "cycle_number": 1,
            "tp_level": 1,
            "mode": "position_optimization",
            "side": "LONG",
            "sell_price": 14.151,
            "sell_quantity": 5.1,
            "sell_pnl": 0.35798206609799493,
            "sell_order_id": 0,
            "sell_time": "2026-01-14T18:52:19.28172703Z",
            "reentry_target_price": 14.081,
            "reentry_quantity": 2.55,
            "reentry_state": "SKIPPED",
            "reentry_attempts": 0,
            "reentry_order_id": 0,
            "reentry_order_placed_at": "0001-01-01T00:00:00Z",
            "reentry_filled_price": 0,
            "reentry_filled_qty": 0,
            "reentry_fill_time": "0001-01-01T00:00:00Z",
            "start_time": "2026-01-14T18:52:19.281749632Z",
            "end_time": "2026-01-14T18:57:22.864840937Z",
            "duration": "",
            "outcome": "skipped",
            "outcome_pnl": 0,
            "outcome_reason": "timeout"
          },
          {
            "cycle_number": 2,
            "tp_level": 2,
            "mode": "position_optimization",
            "side": "LONG",
            "sell_price": 14.18,
            "sell_quantity": 6,
            "sell_pnl": 0.5951553718799936,
            "sell_order_id": 0,
            "sell_time": "2026-01-14T19:09:49.02736689Z",
            "reentry_target_price": 14.081,
            "reentry_quantity": 3,
            "reentry_state": "WAITING",
            "reentry_attempts": 0,
            "reentry_order_id": 0,
            "reentry_order_placed_at": "0001-01-01T00:00:00Z",
            "reentry_filled_price": 0,
            "reentry_filled_qty": 0,
            "reentry_fill_time": "0001-01-01T00:00:00Z",
            "start_time": "2026-01-14T19:09:49.027381692Z",
            "end_time": "0001-01-01T00:00:00Z",
            "duration": "",
            "outcome": "",
            "outcome_pnl": 0,
            "outcome_reason": ""
          },
          {
            "cycle_number": 3,
            "tp_level": 3,
            "mode": "position_optimization",
            "side": "LONG",
            "sell_price": 14.173,
            "sell_quantity": 4.8,
            "sell_pnl": 0.4425242975039964,
            "sell_order_id": 0,
            "sell_time": "2026-01-14T19:12:18.266847292Z",
            "reentry_target_price": 0,
            "reentry_quantity": 0,
            "reentry_state": "NONE",
            "reentry_attempts": 0,
            "reentry_order_id": 0,
            "reentry_order_placed_at": "0001-01-01T00:00:00Z",
            "reentry_filled_price": 0,
            "reentry_filled_qty": 0,
            "reentry_fill_time": "0001-01-01T00:00:00Z",
            "start_time": "2026-01-14T19:12:18.266861894Z",
            "end_time": "0001-01-01T00:00:00Z",
            "duration": "",
            "outcome": "",
            "outcome_pnl": 0,
            "outcome_reason": ""
          }
        ],
        "accumulated_profit": 1.395661735481985,
        "tp_level_unlocked": 3,
        "next_tp_blocked": true,
        "original_entry_price": 14.08080743802,
        "current_breakeven": 14.08080743802,
        "remaining_quantity": 1.1,
        "dynamic_sl_active": true,
        "dynamic_sl_price": 0,
        "protected_profit": 0.8373970412891909,
        "max_allowable_loss": 0.558264694192794,
        "final_portion_active": true,
        "final_portion_qty": 1.1,
        "final_trailing_peak": 14.173,
        "final_trailing_percent": 5,
        "final_trailing_active": false,
        "reentry_percent": 0.5,
        "reentry_price_buffer": 0.0005,
        "total_cycles_completed": 0,
        "total_reentries": 0,
        "successful_reentries": 0,
        "skipped_reentries": 1,
        "total_cycle_pnl": 0,
        "started_at": "2026-01-14T18:52:14.289903561Z",
        "last_update": "2026-01-14T19:12:18.266916399Z",
        "debug_log": [
          "19:08:42: Monitoring: price=14.15200000, tpUnlocked=1, blocked=false, cycles=1",
          "19:08:47: Monitoring: price=14.15200000, tpUnlocked=1, blocked=false, cycles=1",
          "19:08:52: Monitoring: price=14.15900000, tpUnlocked=1, blocked=false, cycles=1",
          "19:08:57: Monitoring: price=14.15900000, tpUnlocked=1, blocked=false, cycles=1",
          "19:09:02: Monitoring: price=14.15400000, tpUnlocked=1, blocked=false, cycles=1",
          "19:09:07: Monitoring: price=14.15500000, tpUnlocked=1, blocked=false, cycles=1",
          "19:09:13: Monitoring: price=14.15700000, tpUnlocked=1, blocked=false, cycles=1",
          "19:09:17: Monitoring: price=14.15600000, tpUnlocked=1, blocked=false, cycles=1",
          "19:09:22: Monitoring: price=14.15600000, tpUnlocked=1, blocked=false, cycles=1",
          "19:09:27: Monitoring: price=14.16500000, tpUnlocked=1, blocked=false, cycles=1",
          "19:09:33: Monitoring: price=14.16800000, tpUnlocked=1, blocked=false, cycles=1",
          "19:09:37: Monitoring: price=14.17300000, tpUnlocked=1, blocked=false, cycles=1",
          "19:09:42: Monitoring: price=14.17500000, tpUnlocked=1, blocked=false, cycles=1",
          "19:09:48: Monitoring: price=14.18000000, tpUnlocked=1, blocked=false, cycles=1",
          "19:09:48: TP2: Target profit 0.70%, sell 50% of position",
          "19:09:49: TP2 hit at 14.18000000! Selling 6.0000 (50% of remaining)",
          "19:09:50: Waiting for re-entry at breakeven 14.08100000, target qty 3.0000",
          "19:09:53: Monitoring: price=14.18800000, tpUnlocked=2, blocked=true, cycles=2",
          "19:09:58: Monitoring: price=14.18900000, tpUnlocked=2, blocked=true, cycles=2",
          "19:10:03: Monitoring: price=14.19100000, tpUnlocked=2, blocked=true, cycles=2",
          "19:10:14: Monitoring: price=14.19300000, tpUnlocked=2, blocked=true, cycles=2",
          "19:10:16: Monitoring: price=14.19300000, tpUnlocked=2, blocked=true, cycles=2",
          "19:10:18: Monitoring: price=14.18700000, tpUnlocked=2, blocked=true, cycles=2",
          "19:10:23: Monitoring: price=14.18900000, tpUnlocked=2, blocked=true, cycles=2",
          "19:10:28: Monitoring: price=14.18900000, tpUnlocked=2, blocked=true, cycles=2",
          "19:10:33: Monitoring: price=14.19100000, tpUnlocked=2, blocked=true, cycles=2",
          "19:10:38: Monitoring: price=14.19000000, tpUnlocked=2, blocked=true, cycles=2",
          "19:10:43: Monitoring: price=14.18600000, tpUnlocked=2, blocked=true, cycles=2",
          "19:10:48: Monitoring: price=14.18900000, tpUnlocked=2, blocked=true, cycles=2",
          "19:10:53: Monitoring: price=14.18700000, tpUnlocked=2, blocked=true, cycles=2",
          "19:10:58: Monitoring: price=14.18500000, tpUnlocked=2, blocked=true, cycles=2",
          "19:11:05: Monitoring: price=14.18600000, tpUnlocked=2, blocked=true, cycles=2",
          "19:11:08: Monitoring: price=14.18800000, tpUnlocked=2, blocked=true, cycles=2",
          "19:11:13: Monitoring: price=14.18900000, tpUnlocked=2, blocked=true, cycles=2",
          "19:11:18: Monitoring: price=14.18300000, tpUnlocked=2, blocked=true, cycles=2",
          "19:11:23: Monitoring: price=14.18100000, tpUnlocked=2, blocked=true, cycles=2",
          "19:11:28: Monitoring: price=14.17900000, tpUnlocked=2, blocked=true, cycles=2",
          "19:11:33: Monitoring: price=14.17100000, tpUnlocked=2, blocked=true, cycles=2",
          "19:11:38: Monitoring: price=14.17500000, tpUnlocked=2, blocked=true, cycles=2",
          "19:11:43: Monitoring: price=14.17100000, tpUnlocked=2, blocked=true, cycles=2",
          "19:11:48: Monitoring: price=14.17100000, tpUnlocked=2, blocked=true, cycles=2",
          "19:11:53: Monitoring: price=14.17400000, tpUnlocked=2, blocked=true, cycles=2",
          "19:11:58: Monitoring: price=14.17800000, tpUnlocked=2, blocked=true, cycles=2",
          "19:12:03: Monitoring: price=14.17800000, tpUnlocked=2, blocked=true, cycles=2",
          "19:12:08: Monitoring: price=14.17800000, tpUnlocked=2, blocked=true, cycles=2",
          "19:12:13: Monitoring: price=14.18000000, tpUnlocked=2, blocked=true, cycles=2",
          "19:12:18: Monitoring: price=14.17300000, tpUnlocked=2, blocked=true, cycles=2",
          "19:12:18: Exchange TP3 filled: qty reduced 6.1000 -\u003e 1.1000 (sold 5.0000)",
          "19:12:18: TP3 EXCHANGE FILL: profit 1.00%, sold 4.8000 (80% of remaining)",
          "19:12:18: TP3 exchange fill! Final portion mode. Qty=1.1000, Trailing=5.0%"
        ],
        "needs_manual_intervention": false,
        "manual_intervention_reason": "",
        "manual_intervention_alert_at": ""
      },
      "saved_at": "2026-01-14T19:12:18.267859795Z"
    }
  },
  "updated_at": "2026-01-14T19:12:18.267845194Z"
}