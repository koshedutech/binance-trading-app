# ============================================================================
# Binance Trading Bot - Environment Configuration
# ============================================================================
# Copy this file to .env and fill in your values
# NEVER commit .env to version control!
# ============================================================================

# ============================================================================
# LICENSE KEY (Required for commercial use)
# ============================================================================
# Your license key (format: XXX-XXXX-XXXX-XXXX)
# Leave empty for 7-day trial (limited to 3 symbols)
# Purchase at: https://your-license-server.com
LICENSE_KEY=

# ============================================================================
# BINANCE API CONFIGURATION
# ============================================================================
# API keys are now managed via the Settings page in the web UI.
# Add your Binance API keys in Settings > API Keys after logging in.
# Get your API keys from: https://www.binance.com/en/my/settings/api-management
# For testnet: https://testnet.binance.vision/
# IMPORTANT: Enable "Futures" permission and whitelist your server IP
#
# NOTE: BINANCE_API_KEY and BINANCE_SECRET_KEY are NO LONGER USED.
# Each user stores their own encrypted API keys in the database.

# Testnet mode (true = paper trading, false = REAL MONEY)
# ALWAYS start with testnet=true until you're confident!
BINANCE_TESTNET=true

# API Base URL
# Testnet: https://testnet.binance.vision
# Production: https://api.binance.com
BINANCE_BASE_URL=https://testnet.binance.vision

# Trading modes
MOCK_MODE=false
TRADING_DRY_RUN=false

# ============================================================================
# DATABASE CONFIGURATION
# ============================================================================
# PostgreSQL connection settings

DB_HOST=localhost
DB_PORT=5432
DB_USER=trading_bot
DB_PASSWORD=your_secure_password_here
DB_NAME=trading_bot
DB_SSLMODE=disable

# ============================================================================
# WEB SERVER CONFIGURATION
# ============================================================================
# Port configuration:
#   - Development: 8094 (docker-compose.yml)
#   - Production:  8095 (docker-compose.prod.yml)
#
# Note: When using Docker, ports are configured in docker-compose files.
# This setting is only used for native mode (not recommended).

WEB_PORT=8094
WEB_HOST=0.0.0.0

# ============================================================================
# AI/LLM CONFIGURATION
# ============================================================================
# Enable AI-powered market analysis

AI_ENABLED=true
AI_LLM_ENABLED=true
AI_ML_ENABLED=true
AI_SENTIMENT_ENABLED=true

# LLM Provider: claude, openai, or deepseek
AI_LLM_PROVIDER=claude

# -------------------------------------------------------------------------
# AI API KEYS - NOW MANAGED VIA SETTINGS PAGE
# -------------------------------------------------------------------------
# AI API keys are now managed via the Settings page in the web UI.
# Add your AI provider API key in Settings > AI Configuration after logging in.
# Each user stores their own encrypted API keys in the database.
#
# Supported providers and where to get keys:
# - Claude (Anthropic): https://console.anthropic.com/
# - OpenAI: https://platform.openai.com/api-keys
# - DeepSeek: https://platform.deepseek.com/
#
# NOTE: AI_CLAUDE_API_KEY, AI_OPENAI_API_KEY, AI_DEEPSEEK_API_KEY are NO LONGER USED.

# Model to use (defaults based on provider)
AI_LLM_MODEL=claude-sonnet-4-20250514

# Minimum confidence for AI signals (0.0-1.0)
AI_MIN_CONFIDENCE=0.65

# ============================================================================
# NEWS & SENTIMENT
# ============================================================================
# CryptoNews API for market sentiment analysis
# Get your key from: https://cryptonews-api.com/

CRYPTONEWS_API_KEY=

# ============================================================================
# NOTIFICATION CONFIGURATION
# ============================================================================
# Enable/disable all notifications
NOTIFICATIONS_ENABLED=false

# Telegram Bot Notifications
# Create a bot: https://t.me/BotFather
# Get chat ID: https://t.me/userinfobot
TELEGRAM_ENABLED=false
TELEGRAM_BOT_TOKEN=
TELEGRAM_CHAT_ID=

# Discord Webhook Notifications
# Create webhook in Discord: Server Settings > Integrations > Webhooks
DISCORD_ENABLED=false
DISCORD_WEBHOOK_URL=

# ============================================================================
# LOGGING CONFIGURATION
# ============================================================================
# Log level: DEBUG, INFO, WARN, ERROR
LOG_LEVEL=INFO

# Output: stdout, stderr, or file path
LOG_OUTPUT=stdout

# JSON format (recommended for production)
LOG_JSON=true

# Include file and line number in logs
LOG_INCLUDE_FILE=false

# ============================================================================
# SPOT TRADING AUTOPILOT
# ============================================================================
AUTOPILOT_ENABLED=false
AUTOPILOT_RISK_LEVEL=moderate
AUTOPILOT_MIN_CONFIDENCE=0.65
AUTOPILOT_MAX_DAILY_LOSS=5.0
AUTOPILOT_REQUIRE_MULTI_SIGNAL=true

# ============================================================================
# CIRCUIT BREAKER (Loss Control)
# ============================================================================
CIRCUIT_BREAKER_ENABLED=true
CIRCUIT_MAX_LOSS_PER_HOUR=3.0
CIRCUIT_MAX_CONSECUTIVE_LOSSES=5
CIRCUIT_COOLDOWN_MINUTES=30

# ============================================================================
# FUTURES TRADING CONFIGURATION
# ============================================================================
FUTURES_ENABLED=true
FUTURES_TESTNET=true
FUTURES_DEFAULT_LEVERAGE=10
FUTURES_DEFAULT_MARGIN_TYPE=CROSSED
FUTURES_POSITION_MODE=ONE_WAY
FUTURES_MAX_LEVERAGE=125

# ============================================================================
# FUTURES AUTOPILOT (AI-Powered Trading)
# ============================================================================
FUTURES_AUTOPILOT_ENABLED=false
FUTURES_AUTOPILOT_RISK_LEVEL=moderate
FUTURES_AUTOPILOT_MAX_DAILY_TRADES=50
FUTURES_AUTOPILOT_MAX_DAILY_LOSS=3.0
FUTURES_AUTOPILOT_MAX_POSITION_SIZE=5.0
FUTURES_AUTOPILOT_MIN_CONFIDENCE=0.35
FUTURES_AUTOPILOT_REQUIRE_CONFLUENCE=1
FUTURES_AUTOPILOT_DEFAULT_LEVERAGE=5
FUTURES_AUTOPILOT_MAX_LEVERAGE=20
FUTURES_AUTOPILOT_MARGIN_TYPE=CROSSED
FUTURES_AUTOPILOT_POSITION_MODE=ONE_WAY
FUTURES_AUTOPILOT_ALLOW_SHORTS=true
FUTURES_AUTOPILOT_TAKE_PROFIT=2.0
FUTURES_AUTOPILOT_STOP_LOSS=1.0
FUTURES_AUTOPILOT_TRAILING_STOP_ENABLED=true
FUTURES_AUTOPILOT_TRAILING_STOP_PERCENT=0.5
FUTURES_AUTOPILOT_DECISION_INTERVAL=5

# Allowed symbols for autopilot (comma-separated)
FUTURES_AUTOPILOT_ALLOWED_SYMBOLS=BTCUSDT,ETHUSDT

# ============================================================================
# SCALPING MODE
# ============================================================================
SCALPING_ENABLED=true
SCALPING_MIN_PROFIT=0.05
SCALPING_MAX_LOSS=0.1
SCALPING_MAX_HOLD_SECONDS=60

# ============================================================================
# BIG CANDLE DETECTION
# ============================================================================
BIG_CANDLE_ENABLED=true
BIG_CANDLE_SIZE_MULTIPLIER=1.5
BIG_CANDLE_VOLUME_CONFIRMATION=true

# ============================================================================
# AUTHENTICATION (Optional - for multi-user deployments)
# ============================================================================
# Set to true to enable user authentication
AUTH_ENABLED=false
JWT_SECRET=your-super-secret-jwt-key-change-this-in-production
JWT_EXPIRY=24h
JWT_REFRESH_EXPIRY=168h
REQUIRE_EMAIL_VERIFICATION=false

# ============================================================================
# SUBSCRIPTION TIER ENFORCEMENT
# ============================================================================
# Set to false to bypass subscription tier limits (all users treated as Whale tier)
# Set to true to enforce subscription tier limits based on user's subscription
# Default: false (disabled - no subscription enforcement)
SUBSCRIPTION_ENABLED=false

# ============================================================================
# VAULT (Optional - HashiCorp Vault for secure API key storage)
# ============================================================================
VAULT_ENABLED=false
VAULT_ADDRESS=http://localhost:8200
VAULT_TOKEN=

# ============================================================================
# BILLING (Optional - Stripe integration for SaaS model)
# ============================================================================
BILLING_ENABLED=false
STRIPE_SECRET_KEY=
STRIPE_PUBLISHABLE_KEY=
STRIPE_WEBHOOK_SECRET=
